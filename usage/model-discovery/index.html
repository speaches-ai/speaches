
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://speaches.ai/usage/model-discovery/">
      
      
        <link rel="prev" href="../../installation/">
      
      
        <link rel="next" href="../speech-to-text/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Model Discovery - Speaches Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model-aliasing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Speaches Documentation" class="md-header__button md-logo" aria-label="Speaches Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Speaches Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model Discovery
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/speaches-ai/speaches/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Speaches Documentation" class="md-nav__button md-logo" aria-label="Speaches Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Speaches Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/speaches-ai/speaches/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Usage / Capabilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage / Capabilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Model Discovery
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Model Discovery
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model-aliasing" class="md-nav__link">
    <span class="md-ellipsis">
      Model Aliasing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Aliasing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-model-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Using Model Aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-model-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Model Aliases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Model Aliases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../speech-to-text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Speech-to-Text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../text-to-speech/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text-to-Speech
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../voice-chat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Voice Chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../realtime-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Realtime API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VAD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../open-webui-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open WebUI Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model-aliasing" class="md-nav__link">
    <span class="md-ellipsis">
      Model Aliasing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Aliasing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-model-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Using Model Aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-model-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Model Aliases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Model Aliases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Model Discovery</h1>

<p>Before you can do anything useful with <code>speaches</code>, you'll need to want to download a machine learning model for your specific task. You can see all the supported models by querying the <code>/v1/registry</code> endpoint. This will return a list of all available models, including their IDs, types, and other metadata.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You'll want to make sure you have the <code>SPEACHES_BASE_URL</code> environment variable set to the URL of your <code>speaches</code> server. If you're running it locally, without modifying the default port, this will be <code>http://localhost:8000</code>.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Speaches CLI</label><label for="__tabbed_1_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>uvx<span class="w"> </span>speaches-cli<span class="w"> </span>registry<span class="w"> </span>ls
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/registry&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p>The above command will display a list of all available models. You can filter the models by task type, such as <code>automatic-speech-recognition</code>, <code>text-to-speech</code>, etc. To do this, you'll need to specify the <code>task</code> query parameter.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Speaches CLI</label><label for="__tabbed_2_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>uvx<span class="w"> </span>speaches-cli<span class="w"> </span>registry<span class="w"> </span>ls<span class="w"> </span>--task<span class="w"> </span>automatic-speech-recognition
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/registry?task=automatic-speech-recognition&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p>TIP: You may further filter the response by piping the output to <code>jq</code> and using the <code>select</code> function.</p>
<p>You'll then want to download the model you want to use. You can do this by making a <code>POST /v1/models</code> request.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Speaches CLI</label><label for="__tabbed_3_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>uvx<span class="w"> </span>speaches-cli<span class="w"> </span>model<span class="w"> </span>download<span class="w"> </span>Systran/faster-distil-whisper-small.en
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/models/Systran/faster-distil-whisper-small.en&quot;</span><span class="w"> </span>-X<span class="w"> </span>POST
</code></pre></div>
</div>
</div>
</div>
<p>The downloaded model will now be included in the list of available models when you query the <code>/v1/models</code> endpoint (OpenAI compatible).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Speaches CLI</label><label for="__tabbed_4_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>uvx<span class="w"> </span>speaches-cli<span class="w"> </span>model<span class="w"> </span>ls
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/models&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="model-aliasing">Model Aliasing</h2>
<p><code>speaches</code> supports model aliasing, which allows you to use friendly names for models instead of their full repository paths. This is particularly useful for maintaining compatibility with OpenAI's API naming conventions.</p>
<p>Model aliases are defined in the <code>model_aliases.json</code> file in the root directory of your <code>speaches</code> installation. The file contains a JSON object mapping alias names to actual model IDs:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;tts-1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;speaches-ai/Kokoro-82M-v1.0-ONNX&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tts-1-hd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;speaches-ai/Kokoro-82M-v1.0-ONNX&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;whisper-1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Systran/faster-whisper-large-v3&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="using-model-aliases">Using Model Aliases</h3>
<p>Once configured, you can use the alias name anywhere you would normally use a full model ID:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Speaches CLI</label><label for="__tabbed_5_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Use alias instead of full model path</span>
uvx<span class="w"> </span>speaches-cli<span class="w"> </span>model<span class="w"> </span>download<span class="w"> </span>whisper-1

<span class="c1"># This is equivalent to:</span>
uvx<span class="w"> </span>speaches-cli<span class="w"> </span>model<span class="w"> </span>download<span class="w"> </span>Systran/faster-whisper-large-v3
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Use alias in API requests</span>
curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/models/whisper-1&quot;</span><span class="w"> </span>-X<span class="w"> </span>POST

<span class="c1"># This is equivalent to:</span>
curl<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SPEACHES_BASE_URL</span><span class="s2">/v1/models/Systran/faster-whisper-large-v3&quot;</span><span class="w"> </span>-X<span class="w"> </span>POST
</code></pre></div>
</div>
</div>
</div>
<h3 id="configuring-model-aliases">Configuring Model Aliases</h3>
<p>To add or modify model aliases:</p>
<ol>
<li><strong>Edit the <code>model_aliases.json</code> file</strong> in your <code>speaches</code> root directory</li>
<li><strong>Add or modify entries</strong> using the format <code>"alias_name": "actual_model_id"</code></li>
<li><strong>Restart the server</strong> for changes to take effect</li>
</ol>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;my-whisper&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;openai/whisper-large-v3&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;fast-tts&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;speaches-ai/Kokoro-82M-v1.0-ONNX&quot;</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Model aliases are loaded only once when the server starts. You must restart the server after modifying the <code>model_aliases.json</code> file.</p>
</div>
<h4 id="docker-deployment">Docker Deployment</h4>
<p>If you're using a Docker deployment, you'll need to bind mount your local <code>model_aliases.json</code> file to the container:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Mount your local model_aliases.json file</span>
docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>/path/to/your/model_aliases.json:/home/ubuntu/speaches/model_aliases.json<span class="w"> </span>speaches
</code></pre></div>
<p>Or in your <code>compose.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">speaches</span><span class="p">:</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./model_aliases.json:/home/ubuntu/speaches/model_aliases.json</span>
</code></pre></div>
<h2 id="faq">FAQ</h2>
<details class="question" open="open">
<summary>Where do the models go?</summary>
<p>The models are downloaded into <code>~/.cache/huggingface/hub</code> by default. This is the default cache directory for Hugging Face models. You can change this by setting the <code>HF_HUB_CACHE</code> environment variable to a different directory. If you are using Docker, you can mount a volume to this directory to persist the models across container restarts (the provided Docker Compose files do this).</p>
</details>
<details class="question" open="open">
<summary>Can I download the models directly using the <code>huggingface-cli</code> command?</summary>
<p>Theoretically, you could in some cases, but it's not recommended. The <code>speaches</code> server manages the models and their versions. If you download the models directly, you may run into issues with model compatibility or versioning. It's best to use the <code>speaches</code> CLI or API to download and manage the models.</p>
</details>
<details class="question" open="open">
<summary>How can I add a new model to the registry?</summary>
<p>Model discovery works by querying the Hugging Face Hub with specific tags. If you want to add a new model to the registry, you can do so by adding the appropriate tags to your model on Hugging Face and ensuring your Hugging Face repository follows the expected structrure (you'll need to take a look at <code>src/speaches/executors</code> to find out what the expected tags and repository structrure is). The server will automatically pick up the new model when it queries the registry.</p>
</details>
<details class="question" open="open">
<summary>Can I use private models from Hugging Face?</summary>
<p>Yes. You'll want to first set the <code>HF_TOKEN</code>(you may need to restart the server after setting this variable) environment variable to your Hugging Face token. This will allow the server to access private models.</p>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "search.highlight", "search.share", "content.tabs.link", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>